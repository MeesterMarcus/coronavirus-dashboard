<div *ngIf="summary">
  <!--  Global Summary -->
  <mat-card class="section-margin">
    <mat-toolbar color="accent" class="header-margin wrap">Global Statistics Today</mat-toolbar>
    <mat-progress-bar mode="indeterminate" *ngIf="!summary"></mat-progress-bar>
    <div fxLayout="row wrap" fxLayoutAlign="center" fxLayoutGap="5px">
      <mat-card fxFlex="30%">
        <div class="orange">
          Total confirmed cases:
        </div>
        <span>{{summary.Global.TotalConfirmed | number}}</span>
      </mat-card>
      <mat-card fxFlex="30%">
        <div class="red">
          Total deaths:
        </div>
        <span>{{summary.Global.TotalDeaths | number}}</span>
      </mat-card>
      <mat-card fxFlex="30%">
        <div class="green">
          Total recovered cases:
        </div>
        <span>{{summary.Global.TotalRecovered | number}}</span>
      </mat-card>
    </div>
  </mat-card>

  <!--  US Specific Statistics-->
  <mat-card class="section-margin">
    <mat-toolbar color="accent" class="header-margin">US Specific Statistics</mat-toolbar>
    <mat-progress-bar mode="indeterminate" *ngIf="!usStatistics"></mat-progress-bar>
    <div fxLayout="row wrap" fxLayoutAlign="center" fxLayoutGap="5px" *ngIf="usStatistics && usDaily">
      <mat-card fxFlex="30%">
        <div class="black">
          Total deaths:
        </div>
        <span>{{usStatistics[0].death | number}}</span>
      </mat-card>
      <mat-card fxFlex="30%">
        <div class="black">
          New Deaths:
        </div>
        <span>{{usDailyAll[usDailyAll.length-1].deathIncrease | number}}</span>
      </mat-card>
      <mat-card fxFlex="30%">
        <div class="black">
          Positive Tests:
        </div>
        <span>{{usStatistics[0].positive | number}}</span>
      </mat-card>
      <mat-card fxFlex="30%">
        <div class="black">
          Negative Tests:
        </div>
        <span>{{usStatistics[0].negative | number}}</span>
      </mat-card>
      <mat-card fxFlex="30%">
        <div class="black">
          On Ventilator Currently:
        </div>
        <span>{{usStatistics[0].onVentilatorCurrently | number}}</span>
      </mat-card>
      <mat-card fxFlex="30%">
        <div class="black">
          In Hospital:
        </div>
        <span>{{usStatistics[0].hospitalizedCurrently | number}}</span>
      </mat-card>
<!--      <mat-card fxFlex="30%">-->
<!--        <div class="black">-->
<!--          In ICU Currently:-->
<!--        </div>-->
<!--        <span>{{usStatistics[0].inIcuCurrently | number}}</span>-->
<!--      </mat-card>-->
<!--      <mat-card fxFlex="30%">-->
<!--        <div class="black">-->
<!--          Pending:-->
<!--        </div>-->
<!--        <span>{{usStatistics[0].pending | number}}</span>-->
<!--      </mat-card>-->

      <app-graph fxFlexFill
        [data]="usDaily"
        [graphColor]="'red'"
        [xAxisLabel]="'Date'"
        [yAxisLabel]="'New Deaths'">
      </app-graph>

    </div>
  </mat-card>

  <!--  Country Summary Statistics-->
  <mat-card class="section-margin">
    <mat-toolbar color="accent" class="header-margin">Summary for <br>{{countryStats.Country}}</mat-toolbar>
    <mat-progress-bar mode="indeterminate" *ngIf="!countryStats"></mat-progress-bar>
    <div fxLayout="row wrap" fxLayoutAlign="center" fxLayoutGap="5px">
      <input [(ngModel)]="selectedCountry"
             [typeahead]="countries"
             placeholder="Enter country name"
             (typeaheadOnSelect)="retrieveCountry($event)"
             typeaheadOptionField="Country"
             fxFlex="90%"
             class="form-control country-select">
    </div>

    <div fxLayout="row wrap" fxLayoutAlign="center" fxLayoutGap="5px" *ngIf="countryStats">
      <mat-card fxFlex="30%">
        <div class="orange">
          Total confirmed cases:
        </div>
        <span>{{countryStats.TotalConfirmed | number}}</span>
      </mat-card>
      <mat-card fxFlex="30%">
        <div class="red">
          Total deaths:
        </div>
        <span>{{countryStats.TotalDeaths | number}}</span>
      </mat-card>
      <mat-card fxFlex="30%">
        <div class="green">
          Total recovered cases:
        </div>
        <span>{{countryStats.TotalRecovered | number}}</span>
      </mat-card>
    </div>

<!--    <div fxLayout="row" fxLayoutAlign="flex-end">-->
<!--      <div fxFlex="14%">-->
<!--        <button mat-raised-button type="button" color="primary" class="button-toggle"-->
<!--                (click)="isCollapsed = !isCollapsed"-->
<!--                [attr.aria-expanded]="!isCollapsed" aria-controls="collapseBasic">-->
<!--        <span *ngIf="isCollapsed">-->
<!--          Show Charts-->
<!--        </span>-->
<!--          <span *ngIf="!isCollapsed">-->
<!--          Hide Charts-->
<!--        </span>-->
<!--        </button>-->
<!--      </div>-->
<!--    </div>-->

    <div fxLayout="row wrap" fxLayoutAlign="center" fxLayoutGap="5px" id="collapseBasic" [collapse]="isCollapsed">

      <app-graph fxFlexFill
        [data]="countryConfirmedDayOne"
        [graphColor]="'orange'"
        [xAxisLabel]="'Date'"
        [yAxisLabel]="'Confirmed Cases'">
      </app-graph>

      <app-graph fxFlexFill
        [data]="countryDeathsDayOne"
        [graphColor]="'red'"
        [xAxisLabel]="'Date'"
        [yAxisLabel]="'Deaths'">
      </app-graph>

      <app-graph fxFlexFill
        [data]="countryRecoveredDayOne"
        [graphColor]="'green'"
        [xAxisLabel]="'Date'"
        [yAxisLabel]="'Recovered'">
      </app-graph>

    </div>
  </mat-card>
</div>



